#N canvas 676 23 889 742 10;
#N canvas 0 22 450 278 (subpatch) 0;
#X array array1 240000 float 2;
#X coords 0 1 240000 -1 800 140 1 0 0;
#X restore 33 56 graph;
#X obj 67 565 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 67 585 openpanel;
#X msg 67 606 read -resize \$1 array1;
#X obj 67 627 soundfiler;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0blockMonitor 800 float 0;
#X coords 0 1.1 799 0 800 150 1 0 0;
#X restore 33 41 graph;
#N canvas 138 360 869 521 (subpatch) 0;
#X obj 119 50 hsl 201 8 1 5000 1 0 empty empty Minimum_Length(ms) -114
4 0 10 -262144 -1 -1 7000 1;
#X obj 328 29 nbx 4 12 -1e+37 1e+37 0 0 empty empty empty 0 -6 0 10
-262144 -1 -1 71.29 256;
#X obj 120 30 hsl 201 8 1 100 0 0 empty empty Threshold(dB) -85 4 0
10 -262144 -1 -1 14200 1;
#X obj 328 49 nbx 4 12 -1e+37 1e+37 0 0 empty empty empty 0 -6 0 10
-262144 -1 -1 19.7079 256;
#X obj 119 89 hsl 201 8 1 1001 0 0 empty empty End_Pad(ms) -71 4 0
10 -262144 -1 -1 2100 1;
#X obj 328 68 nbx 4 12 0 10000 0 0 empty empty empty 0 -6 0 10 -262144
-1 -1 0 256;
#X obj 120 69 hsl 201 8 1 1001 0 0 empty empty Start_Pad(ms) -85 4
0 10 -262144 -1 -1 0 1;
#X obj 328 88 nbx 4 12 0 10000 0 0 empty empty empty 0 -6 0 10 -262144
-1 -1 105 256;
#X obj 682 96 nbx 4 12 -1e+37 1e+37 0 0 empty empty Resolutions -70
6 0 10 -262144 -1 -1 1 256;
#X obj 198 179 s \$0blockThr;
#X obj 199 201 s \$0blockMin;
#X obj 682 113 s \$0blockReso;
#X msg 390 9 set \$1;
#X msg 390 29 set \$1;
#X msg 484 67 set \$1;
#X msg 469 148 set \$1;
#X obj 198 244 s \$0blockStartP;
#X obj 199 266 s \$0blockEndP;
#X obj 481 13 - 1;
#X obj 481 92 - 1;
#X obj 467 127 + 1;
#X obj 484 45 + 1;
#X obj 624 13 loadbang;
#X obj 354 189 t b f;
#X obj 315 188 f;
#X obj 354 219 t b f;
#X obj 354 249 t b f;
#X msg 624 34 10;
#X msg 655 34 1;
#X obj 39 162 r blockCounter\$0;
#X floatatom 41 183 5 0 0 0 - - -;
#X obj 11 119 cnv 15 30 15 empty blockCounterMess0 Blocks:2 2 8 0 14
-262144 -66577 0;
#X obj 41 224 s blockCounterMess0;
#X obj 140 144 loadbang;
#X msg 140 165 1;
#X obj 116 6 bng 15 250 50 0 empty empty Analyze 17 7 0 10 -262144
-1 -1;
#X obj 259 122 hradio 15 1 0 3 empty empty Analyze_Resolution 0 -8
0 10 -262144 -1 -1 1;
#X msg 41 203 label Blocks:\$1;
#X obj 705 46 sel 0 1 2;
#X msg 754 67 10;
#X msg 735 67 1;
#X msg 705 67 0.1;
#X text 306 123 lo/mid/hi;
#X msg 576 33 set 70;
#X connect 0 0 3 0;
#X connect 1 0 9 0;
#X connect 1 0 12 0;
#X connect 1 0 24 1;
#X connect 2 0 1 0;
#X connect 3 0 13 0;
#X connect 3 0 23 0;
#X connect 4 0 19 0;
#X connect 5 0 21 0;
#X connect 5 0 25 0;
#X connect 6 0 18 0;
#X connect 7 0 20 0;
#X connect 7 0 26 0;
#X connect 8 0 11 0;
#X connect 12 0 2 0;
#X connect 13 0 0 0;
#X connect 14 0 6 0;
#X connect 15 0 4 0;
#X connect 18 0 5 0;
#X connect 19 0 7 0;
#X connect 20 0 15 0;
#X connect 21 0 14 0;
#X connect 22 0 27 0;
#X connect 22 0 28 0;
#X connect 22 0 43 0;
#X connect 23 0 24 0;
#X connect 23 1 10 0;
#X connect 24 0 9 0;
#X connect 25 0 24 0;
#X connect 25 1 16 0;
#X connect 26 0 24 0;
#X connect 26 1 17 0;
#X connect 27 0 0 0;
#X connect 28 0 36 0;
#X connect 29 0 30 0;
#X connect 30 0 37 0;
#X connect 33 0 34 0;
#X connect 34 0 30 0;
#X connect 35 0 2 0;
#X connect 36 0 38 0;
#X connect 37 0 32 0;
#X connect 38 0 41 0;
#X connect 38 1 40 0;
#X connect 38 2 39 0;
#X connect 39 0 8 0;
#X connect 40 0 8 0;
#X connect 41 0 8 0;
#X connect 43 0 2 0;
#X connect 43 0 1 0;
#X coords 0 1 100 -1 400 141 1 0 0;
#X restore 33 257 graph;
#X obj 67 648 v sampLength\$0;
#X obj 167 648 v sampLate\$0;
#X obj 480 315 t f f;
#X obj 480 336 tabread blockEnd\$0;
#X obj 600 336 tabread blockStart\$0;
#X floatatom 480 357 0 0 0 0 - - -;
#X floatatom 600 357 0 0 0 0 - - -;
#X obj 480 233 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 480 253 t b b;
#X obj 480 274 random;
#X obj 525 253 v blockEndCounter\$0;
#X floatatom 525 274 5 0 0 0 - - -;
#X floatatom 480 295 5 0 0 0 - - -;
#X obj 480 378 -;
#X obj 680 379 v sampLate\$0;
#X floatatom 680 400 5 0 0 0 - - -;
#X obj 480 399 t f f;
#X obj 480 483 vline~;
#X obj 480 546 tabread4~ array1;
#X obj 480 588 hip~ 5;
#X obj 480 609 dac~;
#X floatatom 555 593 5 0 0 0 - - -;
#X msg 480 462 0 \, 1 \$1;
#X obj 480 420 expr $f1/$f2*1000;
#X obj 480 504 *~;
#X obj 480 525 +~;
#X obj 419 549 env~;
#X obj 419 570 - 100;
#X obj 419 591 vu 15 120 empty empty -1 -8 0 10 -66577 -1 1 0;
#X obj 33 196 hsl 801 15 0 799 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 6508 1;
#X obj 596 459 expr $f1/ blockReso\$0;
#X obj 596 480 *;
#X obj 480 441 t f f;
#X obj 45 471 loadbang;
#N canvas 173 23 985 814 MAIN 0;
#X obj 213 157 t f b;
#X obj 213 178 until;
#X obj 213 199 f;
#X obj 243 199 + 1;
#X msg 252 177 0;
#X obj 213 220 t b f f;
#X obj 213 394 f;
#X floatatom 77 75 5 0 0 0 - - -;
#X obj 214 53 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 168 428 rmstodb;
#X obj 168 449 f;
#X text 234 52 2;
#X obj 88 269 t f b;
#X obj 88 290 until;
#X obj 88 311 f;
#X obj 118 311 + 1;
#X msg 127 289 0;
#N canvas 0 23 167 295 skip 0;
#X obj 43 116 timer;
#X floatatom 43 75 5 0 0 0 - - -;
#X obj 43 179 f;
#X floatatom 43 200 5 0 0 0 - - -;
#X obj 43 95 t b b f;
#X obj 43 158 sel 1 0;
#X obj 42 52 inlet;
#X obj 43 220 outlet;
#X obj 74 178 del 250;
#X obj 43 137 > 250;
#X connect 0 0 9 0;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 4 0 0 0;
#X connect 4 1 0 1;
#X connect 4 2 2 1;
#X connect 5 0 2 0;
#X connect 5 1 8 0;
#X connect 6 0 1 0;
#X connect 8 0 2 0;
#X connect 9 0 5 0;
#X restore 77 95 pd skip;
#X obj 88 332 t f f;
#X obj 167 488 >= 75;
#X obj 403 368 abs;
#X obj 233 368 max;
#X obj 233 325 t f f;
#X obj 214 115 t f f;
#X floatatom 662 121 5 0 0 0 - - -;
#X obj 233 304 * 10;
#X obj 214 94 / 10;
#X floatatom 663 59 5 0 0 1 - - -;
#X obj 663 100 expr 100/$f1;
#X obj 663 79 t b f;
#X obj 140 565 change;
#X obj 140 586 sel 0 1;
#X obj 140 607 f;
#X obj 170 607 + 1;
#X obj 480 607 f;
#X obj 510 607 + 1;
#X msg 507 578 0;
#X obj 77 167 t b f b;
#X obj 344 401 mod;
#X obj 344 422 sel 0;
#X obj 344 443 f;
#X obj 372 443 + 1;
#X msg 388 403 0;
#X obj 250 574 * 10;
#X obj 140 638 pack;
#X msg 140 659 \$2 \$1;
#X obj 480 638 pack;
#X msg 480 659 \$2 \$1;
#X obj 663 38 r \$0blockReso;
#X obj 49 31 r \$0blockThr;
#X obj 403 347 array min array1 0 2084;
#X obj 233 347 array max array1 0 2084;
#X obj 686 158 pack f \$0;
#X obj 435 461 array define \$0block;
#X obj 435 441 array define \$0env;
#X obj 167 509 tabwrite \$0block;
#X obj 213 459 tabwrite \$0env;
#X obj 88 353 tabread \$0env;
#X text 373 217 <-- \$0blockMonitor （視認用アレイ）にスケーリング
;
#X obj 274 509 tabwrite \$0blockMonitor;
#X floatatom 618 658 5 0 0 0 - - -;
#X obj 214 73 v sampLength\$0;
#X obj 435 501 array define blockEnd\$0;
#X text 640 344 よくわからんが配列名の先頭を\$0にすると警告メッセージが出る
\; 「gatom: no method for 'const’」(Pd-0.51-3), f 46;
#X msg 687 302 \; blockStart\$1 const 0 \; blockEnd\$1 const 0;
#X obj 435 481 array define blockStart\$0;
#X obj 480 680 tabwrite blockStart\$0;
#X obj 140 680 tabwrite blockEnd\$0;
#X obj 618 678 expr $f1/1000* sampLate\$0;
#X floatatom 268 658 5 0 0 0 - - -;
#X obj 268 678 expr $f1/1000* sampLate\$0;
#X obj 518 636 -;
#X obj 268 637 r \$0blockEndP;
#X obj 618 637 r \$0blockStartP;
#X obj 178 636 +;
#X obj 595 481 array define blockStartSub\$0;
#X obj 595 501 array define blockEndSub\$0;
#X msg 686 179 \; \$2env resize \$1 \; \$2block resize \$1 \; blockStart\$2
resize \$1 \; blockEnd\$2 resize \$1 \; blockStartSub\$2 resize \$1
\; blockEndSub\$2 resize \$1;
#X obj 336 158 v blockAnalyzeSize\$0;
#X obj 89 245 v blockAnalyzeSize\$0;
#X obj 687 279 f \$0;
#X obj 201 608 v blockEndCounter\$0;
#X obj 542 608 v blockStartCounter\$0;
#N canvas 105 28 566 333 process_2 0;
#X obj 41 10 inlet;
#X obj 41 41 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 81 93 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 0 23 402 400 A 0;
#X obj 23 17 inlet;
#X floatatom 26 127 5 0 0 0 - - -;
#X floatatom 166 127 5 0 0 0 - - -;
#X msg 26 61 0;
#X obj 26 82 t f f;
#X obj 26 106 tabread blockEnd\$0;
#X obj 166 106 tabread blockStart\$0;
#X obj 26 147 >;
#X floatatom 26 168 5 0 0 0 - - -;
#X obj 180 230 array get blockStart\$0 0;
#X obj 180 251 array set blockStart\$0 1;
#X obj 26 209 t b b;
#X obj 26 230 f 0;
#X obj 26 251 array set blockStart\$0 0;
#X obj 26 188 sel 0;
#X text 34 40 1;
#X obj 36 292 array set blockEnd\$0 0;
#X obj 36 271 v sampLength\$0;
#X obj 137 271 v blockEndCounter\$0;
#X obj 26 312 expr blockEndCounter\$0 = blockEndCounter\$0 + 1 \; blockStartCounter\$0
= blockStartCounter\$0 + 1;
#X connect 0 0 3 0;
#X connect 1 0 7 0;
#X connect 2 0 7 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 7 0 8 0;
#X connect 8 0 14 0;
#X connect 9 0 10 0;
#X connect 11 0 12 0;
#X connect 11 0 17 0;
#X connect 11 0 19 0;
#X connect 11 1 9 0;
#X connect 11 1 18 0;
#X connect 12 0 13 0;
#X connect 14 0 11 0;
#X connect 17 0 16 0;
#X connect 18 0 16 1;
#X restore 160 116 pd A;
#N canvas 0 23 534 616 B 0;
#X obj 65 63 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 83 124 t f b;
#X obj 83 145 until;
#X obj 83 166 f;
#X obj 113 166 + 1;
#X msg 122 143 0;
#X obj 83 208 tabread blockEnd\$0;
#X obj 83 187 t f f f;
#X obj 133 228 tabread blockStart\$0;
#X obj 83 250 -;
#X obj 83 271 >=;
#X floatatom 159 163 5 0 0 0 - - -;
#X obj 159 183 expr $f1/1000* sampLate\$0;
#X obj 159 142 r \$0blockMin;
#X obj 83 292 sel 1;
#X obj 224 274 f;
#X obj 254 274 + 1;
#X obj 83 313 t b b b;
#X obj 83 334 f;
#X obj 253 334 f;
#X obj 83 229 t f f;
#X floatatom 254 295 5 0 0 0 - - -;
#X obj 83 417 tabwrite blockEndSub\$0;
#X obj 253 419 tabwrite blockStartSub\$0;
#X obj 207 77 f \$0;
#X msg 207 96 \; blockStartSub\$1 const 0 \; blockEndSub\$1 const 0
;
#X obj 66 459 array get blockEndSub\$0 0;
#X obj 66 501 array get blockStartSub\$0 0;
#X obj 66 480 array set blockEnd\$0 0;
#X obj 66 522 array set blockStart\$0 0;
#X obj 65 83 t b b;
#X text 106 54 2;
#X obj 83 103 v blockEndCounter\$0;
#X obj 66 546 expr blockEndCounter\$0 = $f1 \; blockStartCounter\$0
= $f1;
#X obj 334 269 expr $f1/1000* sampLate\$0;
#X obj 334 248 r \$0blockStartP;
#X floatatom 334 290 5 0 0 0 - - -;
#X obj 334 208 expr $f1/1000* sampLate\$0;
#X obj 334 188 r \$0blockEndP;
#X floatatom 334 229 5 0 0 0 - - -;
#X obj 83 355 +;
#X obj 253 355 -;
#X obj 253 376 moses 0;
#X msg 253 397 0;
#X obj 65 20 inlet;
#X connect 0 0 30 0;
#X connect 1 0 2 0;
#X connect 1 1 5 0;
#X connect 1 1 24 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 5 0 15 1;
#X connect 6 0 20 0;
#X connect 7 0 6 0;
#X connect 7 1 8 0;
#X connect 8 0 9 1;
#X connect 8 0 19 1;
#X connect 9 0 10 0;
#X connect 10 0 14 0;
#X connect 11 0 12 0;
#X connect 12 0 10 1;
#X connect 13 0 11 0;
#X connect 14 0 17 0;
#X connect 15 0 16 0;
#X connect 15 0 22 1;
#X connect 15 0 23 1;
#X connect 16 0 15 1;
#X connect 16 0 21 0;
#X connect 17 0 18 0;
#X connect 17 1 19 0;
#X connect 17 2 15 0;
#X connect 18 0 40 0;
#X connect 19 0 41 0;
#X connect 20 0 9 0;
#X connect 20 1 18 1;
#X connect 21 0 33 0;
#X connect 24 0 25 0;
#X connect 26 0 28 0;
#X connect 27 0 29 0;
#X connect 30 0 26 0;
#X connect 30 0 27 0;
#X connect 30 1 32 0;
#X connect 32 0 1 0;
#X connect 34 0 36 0;
#X connect 35 0 34 0;
#X connect 36 0 41 1;
#X connect 37 0 39 0;
#X connect 38 0 37 0;
#X connect 39 0 40 1;
#X connect 40 0 22 0;
#X connect 41 0 42 0;
#X connect 42 0 43 0;
#X connect 42 1 23 0;
#X connect 43 0 23 0;
#X connect 44 0 0 0;
#X restore 121 116 pd B;
#X obj 160 96 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 120 95 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 44 95 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 0 23 477 483 D 0;
#X obj 37 37 inlet;
#X obj 38 64 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 38 105 v blockEndCounter\$0;
#X obj 38 188 t f f;
#X obj 38 209 tabread blockEnd\$0;
#X obj 178 209 tabread blockStart\$0;
#X floatatom 38 126 5 0 0 0 - - -;
#X obj 38 293 -;
#X obj 48 335 t f b;
#X obj 48 356 until;
#X obj 48 377 f;
#X obj 78 377 + 1;
#X msg 88 355 0;
#X obj 48 398 t b f;
#X msg 38 419 1;
#X obj 38 440 tabwrite \$0blockMonitor;
#X obj 126 404 +;
#X obj 320 188 v blockAnalyzeSize\$0;
#X msg 154 170 \; \$1blockMonitor const 0;
#X obj 154 149 f \$0;
#X obj 178 272 int;
#X obj 38 272 int;
#X obj 179 230 expr $f1/ blockReso\$0;
#X obj 320 209 expr 800/$f1;
#X floatatom 320 230 0 0 0 0 - - -;
#X obj 38 230 expr $f1/ blockReso\$0;
#X obj 179 251 *;
#X obj 38 251 *;
#X obj 38 84 t b b, f 16;
#X obj 38 146 until;
#X obj 38 167 f;
#X obj 68 167 + 1;
#X msg 78 146 0;
#X obj 38 314 moses 1;
#X connect 0 0 1 0;
#X connect 1 0 28 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 25 0;
#X connect 5 0 22 0;
#X connect 6 0 29 0;
#X connect 7 0 33 0;
#X connect 8 0 9 0;
#X connect 8 1 12 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 10 0 13 0;
#X connect 11 0 10 1;
#X connect 12 0 10 1;
#X connect 13 0 14 0;
#X connect 13 1 16 0;
#X connect 14 0 15 0;
#X connect 16 0 15 1;
#X connect 17 0 23 0;
#X connect 19 0 18 0;
#X connect 20 0 16 1;
#X connect 20 0 7 1;
#X connect 21 0 7 0;
#X connect 22 0 26 0;
#X connect 23 0 24 0;
#X connect 24 0 26 1;
#X connect 24 0 27 1;
#X connect 25 0 27 0;
#X connect 26 0 20 0;
#X connect 27 0 21 0;
#X connect 28 0 2 0;
#X connect 28 1 32 0;
#X connect 28 1 19 0;
#X connect 28 1 17 0;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 30 0 3 0;
#X connect 31 0 30 1;
#X connect 32 0 30 1;
#X connect 33 0 14 0;
#X connect 33 1 8 0;
#X restore 44 116 pd D;
#X obj 41 61 t b b b b;
#N canvas 0 23 914 639 C 0;
#X obj 319 284 tabread blockEnd\$0;
#X obj 449 284 tabread blockStart\$0;
#X floatatom 319 305 0 0 0 0 - - -;
#X floatatom 449 305 0 0 0 0 - - -;
#X obj 319 347 >;
#X floatatom 319 368 5 0 0 0 - - -;
#X text 357 362 1なら削除;
#X obj 319 326 t f f;
#X obj 319 237 t f f f b;
#X obj 449 263 + 1;
#X obj 319 388 sel 0;
#X obj 361 410 f;
#X obj 391 410 + 1;
#X obj 320 410 t b b;
#X obj 320 431 i;
#X obj 471 410 f;
#X obj 501 410 + 1;
#X obj 430 410 t b b;
#X obj 430 431 i;
#X obj 471 431 + 1;
#X floatatom 471 452 5 0 0 0 - - -;
#X floatatom 361 431 5 0 0 0 - - -;
#X floatatom 476 195 5 0 0 0 - - -;
#X obj 319 110 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 319 130 v blockEndCounter\$0;
#X obj 319 193 until;
#X obj 319 214 f;
#X obj 349 214 + 1;
#X msg 358 191 0;
#X obj 319 172 t f b b;
#X obj 146 295 tabread blockEnd\$0;
#X obj 146 211 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 146 231 t b b;
#X obj 146 252 f;
#X obj 176 252 f;
#X obj 176 273 + 1;
#X obj 595 336 tabread blockStart\$0;
#X msg 595 314 0;
#X floatatom 146 316 0 0 0 0 - - -;
#X obj 595 387 array set blockStartSub\$0 0 1;
#X obj 460 510 tabwrite blockStart\$0;
#X obj 320 510 tabwrite blockEnd\$0;
#X obj 177 64 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 177 84 t b b b, f 47;
#X obj 208 494 s blockCounter\$0;
#X obj 207 535 v blockEndCounter\$0;
#X obj 332 535 v blockStartCounter\$0;
#X obj 210 471 + 1;
#X obj 176 31 inlet;
#X floatatom 394 159 5 0 0 0 - - -;
#X obj 554 583 expr if($f1== sampLength\$0 \, 1 \, 0);
#X obj 554 604 moses 1;
#X obj 554 562 array get blockEnd\$0 0 1;
#X msg 652 532 bang;
#X floatatom 490 597 5 0 0 0 - - -;
#X obj 88 401 expr if($f1== sampLength\$0 \, 1 \, 0);
#X obj 88 422 moses 1;
#X obj 88 380 array get blockEnd\$0 0 1;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 7 0;
#X connect 3 0 4 1;
#X connect 3 0 18 1;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 7 0 4 0;
#X connect 7 1 14 1;
#X connect 8 0 0 0;
#X connect 8 0 33 1;
#X connect 8 1 9 0;
#X connect 9 0 1 0;
#X connect 10 0 13 0;
#X connect 10 0 17 0;
#X connect 11 0 12 0;
#X connect 11 0 21 0;
#X connect 12 0 11 1;
#X connect 13 0 14 0;
#X connect 13 1 11 0;
#X connect 14 0 41 0;
#X connect 15 0 16 0;
#X connect 15 0 19 0;
#X connect 16 0 15 1;
#X connect 17 0 18 0;
#X connect 17 1 15 0;
#X connect 18 0 40 0;
#X connect 19 0 20 0;
#X connect 19 0 40 1;
#X connect 21 0 34 1;
#X connect 21 0 41 1;
#X connect 22 0 9 0;
#X connect 23 0 24 0;
#X connect 24 0 29 0;
#X connect 24 0 49 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 26 0 8 0;
#X connect 27 0 26 1;
#X connect 28 0 26 1;
#X connect 28 0 11 1;
#X connect 28 0 15 1;
#X connect 29 0 25 0;
#X connect 29 1 28 0;
#X connect 30 0 38 0;
#X connect 30 0 41 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 32 0 57 0;
#X connect 32 1 34 0;
#X connect 33 0 30 0;
#X connect 34 0 35 0;
#X connect 35 0 41 1;
#X connect 35 0 47 0;
#X connect 36 0 39 0;
#X connect 37 0 36 0;
#X connect 42 0 43 0;
#X connect 43 0 31 0;
#X connect 43 1 23 0;
#X connect 43 2 37 0;
#X connect 47 0 44 0;
#X connect 47 0 45 0;
#X connect 47 0 46 0;
#X connect 48 0 42 0;
#X connect 50 0 51 0;
#X connect 50 0 54 0;
#X connect 52 0 50 0;
#X connect 53 0 52 0;
#X connect 55 0 56 0;
#X connect 56 1 44 0;
#X connect 56 1 46 0;
#X connect 56 1 45 0;
#X connect 57 0 55 0;
#X restore 80 116 pd C;
#X text 222 24 A... \; 最初に始まるイベントはblockEndとblockStartのどちらか？
\; blockEndが先にある場合は、blockStartの全内容を1インデ:
ックス後ろにずらし、最初のインデックスを「0」にする。
\; ついで、blockEndの末尾に音声ファイルの最終サンプルの値を
\; 入れてblockEndとblockStartの配列長を揃える。 \; これでとりあえず「ブロック」（blockEndとblockStartの矛
\; 盾のない組み合わせ）ができる。;
#X text 225 173 C... \; パッドを追加したときの整合性をチェック。
\; パッドを追加した結果、隣り合うブロックが共通するインデック
\; スを含みもつようになった場合は、それらのブロックを統合する。
;
#X text 224 120 B... \; それぞれのブロックの長さをblockMinの値と比較。
\; 小さければそのブロックは消去。 \; 残ったブロックにパッド（blockEndPとblockStartP）を追加。
;
#N canvas 0 23 444 469 X 0;
#X obj 231 261 until;
#X obj 231 282 f;
#X obj 261 282 + 1;
#X msg 270 259 0;
#X obj 231 345 tabread blockEnd\$0;
#X obj 231 303 t f f f;
#X obj 361 345 tabread blockStart\$0;
#X obj 231 387 >;
#X obj 231 198 v blockEndCounter\$0;
#X obj 361 324 + 1;
#X obj 272 429 f;
#X obj 302 429 + 1;
#X obj 427 265 f 0;
#X obj 427 286 array get blockStart\$0 0 1;
#X obj 427 307 array set blockStartSub\$0 0;
#X obj 231 429 t b b;
#X obj 231 366 t f f;
#X obj 472 429 f;
#X obj 502 429 + 1;
#X obj 431 429 t b b;
#X obj 302 450 v blockEndCounter\$0;
#X obj 502 450 v blockStartCounter\$0;
#X obj 426 198 f \$0;
#X msg 426 217 \; blockStartSub\$1 const 0 \; blockEndSub\$1 const
0;
#X obj 231 240 t f b b;
#X obj 361 366 expr if($f1==0 \, sampLength\$0 \, $f1);
#X obj 61 606 array get blockEndSub\$0 0;
#X obj 61 648 array get blockStartSub\$0 0;
#X obj 431 450 i;
#X obj 231 450 i;
#X obj 321 533 v blockEndCounter\$0;
#X obj 321 554 - 1;
#X obj 225 511 t b b;
#X obj 225 532 v sampLength\$0;
#X obj 225 553 tabwrite;
#X floatatom 443 860 5 0 0 0 - - -;
#X obj 444 839 expr 100/$f1;
#X obj 444 817 r \$0blockReso;
#X msg 1392 467 800;
#X obj 1392 488 t f b;
#X obj 1392 509 until;
#X obj 1392 530 f;
#X obj 1422 530 + 1;
#X msg 1433 508 0;
#X obj 1392 551 t f f;
#X obj 1392 572 / 800;
#X floatatom 1484 543 0 0 0 0 - - -;
#X obj 1392 614 t f f;
#X obj 1392 635 tabread blockEnd\$0;
#X obj 1512 635 tabread blockStart\$0;
#X obj 1392 656 expr $f1/ blockReso\$0;
#X floatatom 1392 677 5 0 0 0 - - -;
#X obj 1392 593 expr $f1* blockAnalyzeSize\$0;
#X floatatom 1342 558 5 0 0 0 - - -;
#X obj 1303 700 -;
#X obj 1303 721 t f b;
#X obj 1303 742 until;
#X obj 1303 763 f;
#X obj 1333 763 + 1;
#X msg 1343 741 0;
#X obj 1303 784 t b f;
#X msg 1303 805 1;
#X obj 1303 826 tabwrite \$0blockMonitor;
#X obj 1391 790 +;
#X floatatom 1480 769 5 0 0 0 - - -;
#X floatatom 1380 708 5 0 0 0 - - -;
#X floatatom 183 775 0 0 0 0 - - -;
#X floatatom 353 775 0 0 0 0 - - -;
#X obj 353 754 int;
#X obj 183 754 int;
#X obj 183 733 expr $f1/ blockReso\$0 / 400;
#X obj 354 733 expr $f1/ blockReso\$0 / 400;
#X obj 288 855 expr $f1/ blockReso\$0;
#X floatatom 288 876 5 0 0 0 - - -;
#X floatatom 313 811 5 0 0 0 - - -;
#X obj 231 408 sel 0;
#X obj 61 177 t b b b;
#X obj 79 489 f;
#X obj 79 531 tabread blockEnd\$0;
#X obj 79 552 tabwrite blockEndSub\$0;
#X obj 126 489 f;
#X obj 79 307 t b b b;
#X obj 79 510 + 2;
#X obj 231 219 - 2;
#X obj 478 519 s blockCounter\$0;
#X obj 61 156 until;
#X msg 61 135 2;
#X obj 863 481 tabread blockEnd\$0;
#X obj 1033 481 tabread blockStart\$0;
#X floatatom 863 502 0 0 0 0 - - -;
#X floatatom 1033 502 0 0 0 0 - - -;
#X obj 863 544 >;
#X floatatom 863 565 5 0 0 0 - - -;
#X text 901 559 1なら削除;
#X obj 863 523 t f f;
#X obj 863 434 t f f f b;
#X obj 1033 460 + 1;
#X obj 863 585 sel 0;
#X obj 905 607 f;
#X obj 935 607 + 1;
#X obj 864 607 t b b;
#X obj 864 628 i;
#X obj 1055 607 f;
#X obj 1085 607 + 1;
#X obj 1014 607 t b b;
#X obj 1014 628 i;
#X obj 1055 628 + 1;
#X obj 428 605 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 428 646 5 0 0 0 - - -;
#X obj 428 625 v blockEndCounter\$0;
#X obj 863 307 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 863 327 v blockEndCounter\$0;
#X obj 863 390 until;
#X obj 863 411 f;
#X obj 893 411 + 1;
#X msg 902 388 0;
#X obj 863 369 t f b b;
#X obj 728 518 tabread blockEnd\$0;
#X obj 728 434 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 728 454 t b b;
#X obj 728 475 f;
#X obj 758 475 f;
#X obj 937 273 tabread blockStart\$0;
#X msg 937 251 0;
#X obj 937 294 array set testS_2 0 1;
#X obj 863 348 - 0;
#X floatatom 728 539 0 0 0 0 - - -;
#X obj 864 677 tabwrite blockEndSub\$0;
#X obj 1014 677 tabwrite blockStartSub\$0;
#X obj 231 471 tabwrite testE_2;
#X obj 431 471 tabwrite testS_2;
#X obj 822 214 t b b b b;
#X obj 922 707 s blockCounter\$0;
#X obj 872 657 v blockEndCounter\$0;
#X obj 1037 655 v blockStartCounter\$0;
#X floatatom 758 496 5 0 0 0 - - -;
#X obj 41 582 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 61 627 array set blockEnd\$0;
#X obj 61 669 array set blockStart\$0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 5 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 3 0 10 1;
#X connect 3 0 17 1;
#X connect 4 0 16 0;
#X connect 5 0 4 0;
#X connect 5 0 77 1;
#X connect 5 1 9 0;
#X connect 6 0 25 0;
#X connect 6 0 28 1;
#X connect 6 0 7 1;
#X connect 7 0 75 0;
#X connect 8 0 83 0;
#X connect 9 0 6 0;
#X connect 10 0 11 0;
#X connect 10 0 80 1;
#X connect 10 0 129 1;
#X connect 11 0 10 1;
#X connect 11 0 20 0;
#X connect 11 0 84 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 15 0 29 0;
#X connect 15 1 10 0;
#X connect 16 0 7 0;
#X connect 16 1 29 1;
#X connect 17 0 18 0;
#X connect 18 0 17 1;
#X connect 18 0 21 0;
#X connect 18 0 130 1;
#X connect 19 0 28 0;
#X connect 19 1 17 0;
#X connect 22 0 23 0;
#X connect 24 0 0 0;
#X connect 24 1 3 0;
#X connect 24 1 12 0;
#X connect 24 2 22 0;
#X connect 26 0 137 0;
#X connect 27 0 138 0;
#X connect 28 0 130 0;
#X connect 29 0 129 0;
#X connect 30 0 31 0;
#X connect 32 0 33 0;
#X connect 32 1 30 0;
#X connect 33 0 34 0;
#X connect 36 0 35 0;
#X connect 37 0 36 0;
#X connect 38 0 39 0;
#X connect 39 0 40 0;
#X connect 39 1 43 0;
#X connect 40 0 41 0;
#X connect 41 0 42 0;
#X connect 41 0 44 0;
#X connect 42 0 41 1;
#X connect 43 0 41 1;
#X connect 44 0 45 0;
#X connect 45 0 52 0;
#X connect 47 0 48 0;
#X connect 47 1 49 0;
#X connect 48 0 50 0;
#X connect 50 0 51 0;
#X connect 52 0 46 0;
#X connect 52 0 47 0;
#X connect 53 0 47 0;
#X connect 54 0 55 0;
#X connect 54 0 65 0;
#X connect 55 0 56 0;
#X connect 55 1 59 0;
#X connect 56 0 57 0;
#X connect 57 0 58 0;
#X connect 57 0 60 0;
#X connect 58 0 57 1;
#X connect 59 0 57 1;
#X connect 60 0 61 0;
#X connect 60 1 63 0;
#X connect 61 0 62 0;
#X connect 63 0 62 1;
#X connect 63 0 64 0;
#X connect 68 0 67 0;
#X connect 69 0 66 0;
#X connect 70 0 69 0;
#X connect 71 0 68 0;
#X connect 72 0 73 0;
#X connect 74 0 72 0;
#X connect 75 0 15 0;
#X connect 75 0 19 0;
#X connect 76 0 26 0;
#X connect 76 1 81 0;
#X connect 76 2 8 0;
#X connect 77 0 82 0;
#X connect 78 0 79 0;
#X connect 80 0 79 1;
#X connect 81 0 77 0;
#X connect 81 1 80 0;
#X connect 81 2 10 0;
#X connect 81 2 17 0;
#X connect 82 0 78 0;
#X connect 83 0 24 0;
#X connect 85 0 76 0;
#X connect 86 0 85 0;
#X connect 87 0 89 0;
#X connect 88 0 90 0;
#X connect 89 0 94 0;
#X connect 90 0 91 1;
#X connect 90 0 105 1;
#X connect 91 0 92 0;
#X connect 92 0 97 0;
#X connect 94 0 91 0;
#X connect 94 1 101 1;
#X connect 95 0 87 0;
#X connect 95 0 120 1;
#X connect 95 1 96 0;
#X connect 96 0 88 0;
#X connect 97 0 100 0;
#X connect 97 0 104 0;
#X connect 98 0 99 0;
#X connect 98 0 127 1;
#X connect 99 0 98 1;
#X connect 99 0 132 0;
#X connect 99 0 133 0;
#X connect 100 0 101 0;
#X connect 100 1 98 0;
#X connect 101 0 127 0;
#X connect 102 0 103 0;
#X connect 102 0 106 0;
#X connect 103 0 102 1;
#X connect 104 0 105 0;
#X connect 104 1 102 0;
#X connect 105 0 128 0;
#X connect 106 0 128 1;
#X connect 106 0 134 0;
#X connect 106 0 121 1;
#X connect 107 0 109 0;
#X connect 109 0 108 0;
#X connect 110 0 111 0;
#X connect 111 0 125 0;
#X connect 112 0 113 0;
#X connect 113 0 114 0;
#X connect 113 0 95 0;
#X connect 114 0 113 1;
#X connect 115 0 113 1;
#X connect 115 0 98 1;
#X connect 115 0 102 1;
#X connect 116 0 112 0;
#X connect 116 1 115 0;
#X connect 117 0 126 0;
#X connect 117 0 127 0;
#X connect 118 0 119 0;
#X connect 119 0 120 0;
#X connect 119 1 121 0;
#X connect 120 0 117 0;
#X connect 121 0 135 0;
#X connect 122 0 124 0;
#X connect 123 0 122 0;
#X connect 125 0 116 0;
#X connect 131 0 26 0;
#X connect 131 1 118 0;
#X connect 131 2 110 0;
#X connect 131 3 123 0;
#X connect 131 3 22 0;
#X connect 131 3 12 0;
#X connect 135 0 127 1;
#X connect 136 0 26 0;
#X restore 117 266 pd X;
#X text 227 230 D... \; 全ての処理をblockMonitorアレイに反映。
;
#X text 73 288 使っていない。捨ててもよい。;
#X connect 0 0 1 0;
#X connect 1 0 9 0;
#X connect 2 0 10 0;
#X connect 5 0 3 0;
#X connect 6 0 4 0;
#X connect 7 0 8 0;
#X connect 9 0 7 0;
#X connect 9 1 2 0;
#X connect 9 2 6 0;
#X connect 9 3 5 0;
#X restore 29 733 pd process_2;
#X obj 30 692 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 53 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 335 217 / 800;
#X obj 704 124 v blockReso\$0;
#X obj 77 137 t b f b;
#X obj 29 130 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 1 0;
#X connect 0 1 4 0;
#X connect 0 1 36 0;
#X connect 0 1 42 0;
#X connect 0 1 80 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 5 0;
#X connect 3 0 2 1;
#X connect 4 0 2 1;
#X connect 5 0 6 0;
#X connect 5 1 25 0;
#X connect 5 2 38 0;
#X connect 5 2 43 0;
#X connect 5 2 55 1;
#X connect 5 2 56 1;
#X connect 6 0 9 0;
#X connect 6 0 56 0;
#X connect 7 0 17 0;
#X connect 7 0 89 0;
#X connect 8 0 61 0;
#X connect 9 0 10 0;
#X connect 10 0 19 0;
#X connect 12 0 13 0;
#X connect 12 1 16 0;
#X connect 12 1 80 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 14 0 18 0;
#X connect 15 0 14 1;
#X connect 16 0 14 1;
#X connect 17 0 88 0;
#X connect 18 0 57 0;
#X connect 18 1 38 0;
#X connect 18 1 43 0;
#X connect 18 1 55 1;
#X connect 19 0 30 0;
#X connect 19 0 55 0;
#X connect 19 0 59 0;
#X connect 20 0 21 1;
#X connect 21 0 6 1;
#X connect 22 0 51 0;
#X connect 22 1 50 0;
#X connect 23 0 0 0;
#X connect 23 1 52 0;
#X connect 23 1 78 0;
#X connect 23 1 86 0;
#X connect 24 0 26 1;
#X connect 24 0 25 1;
#X connect 24 0 43 1;
#X connect 24 0 50 1;
#X connect 24 0 51 1;
#X connect 24 0 87 0;
#X connect 25 0 22 0;
#X connect 26 0 23 0;
#X connect 27 0 29 0;
#X connect 28 0 24 0;
#X connect 29 0 85 0;
#X connect 29 1 28 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 31 1 34 0;
#X connect 32 0 33 0;
#X connect 32 0 44 0;
#X connect 33 0 32 1;
#X connect 33 0 81 0;
#X connect 34 0 35 0;
#X connect 34 0 46 0;
#X connect 35 0 34 1;
#X connect 35 0 82 0;
#X connect 36 0 34 1;
#X connect 36 0 32 1;
#X connect 37 0 79 0;
#X connect 37 1 19 1;
#X connect 37 2 36 0;
#X connect 37 2 42 0;
#X connect 38 0 39 0;
#X connect 39 0 40 0;
#X connect 40 0 41 0;
#X connect 40 0 59 1;
#X connect 41 0 40 1;
#X connect 42 0 40 1;
#X connect 43 0 46 1;
#X connect 43 0 44 1;
#X connect 44 0 45 0;
#X connect 45 0 67 0;
#X connect 46 0 47 0;
#X connect 47 0 66 0;
#X connect 48 0 27 0;
#X connect 49 0 7 0;
#X connect 50 0 20 0;
#X connect 51 0 21 0;
#X connect 52 0 77 0;
#X connect 57 0 9 0;
#X connect 60 0 68 0;
#X connect 61 0 26 0;
#X connect 68 0 71 1;
#X connect 69 0 70 0;
#X connect 70 0 74 1;
#X connect 71 0 46 1;
#X connect 72 0 69 0;
#X connect 73 0 60 0;
#X connect 74 0 44 1;
#X connect 79 0 12 0;
#X connect 80 0 64 0;
#X connect 84 0 83 0;
#X connect 85 0 7 0;
#X connect 86 0 38 1;
#X connect 88 0 84 0;
#X connect 88 1 37 0;
#X connect 88 2 8 0;
#X restore 706 626 pd MAIN;
#X text 683 607 ---------------;
#X text 682 645 ---------------;
#X obj 596 500 s slider;
#X obj 12 8 r slider;
#X obj 617 435 expr 800/ blockAnalyzeSize\$0;
#X obj 480 567 *~ 0.5;
#N canvas 0 23 400 415 test_tone 0;
#X obj 132 184 osc~ 2000;
#X obj 132 266 *~;
#X obj 132 307 tabwrite~ array1;
#X obj 68 253 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 133 64 *~ 10;
#X obj 133 106 mtof~;
#X obj 132 128 samphold~;
#X obj 133 85 +~ 80;
#X obj 133 43 noise~;
#X obj 208 274 samphold~;
#X obj 208 209 abs~;
#X obj 132 205 *~;
#X obj 202 152 expr~ if($v1%2 \, 1 \, 2)-1;
#X obj 132 149 lop~ 8;
#X obj 202 130 expr~ floor($v1*2);
#X obj 202 107 phasor~ 4;
#X msg 195 65 1;
#X msg 227 64 4;
#X text 51 237 test tone;
#X obj 208 251 +~ 0.05;
#X obj 208 230 *~ 0.4;
#X obj 202 173 lop~ 10;
#X obj 34 196 inlet;
#X obj 20 314 f \$0;
#X msg 20 335 \; array1 resize 240000 \; sampLate\$1 48000 \; sampLength\$1
240000;
#X msg 309 270 \; pd dsp 1;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 3 0 2 0;
#X connect 3 0 23 0;
#X connect 3 0 25 0;
#X connect 4 0 7 0;
#X connect 5 0 6 0;
#X connect 6 0 13 0;
#X connect 7 0 5 0;
#X connect 8 0 4 0;
#X connect 8 0 10 0;
#X connect 9 0 11 1;
#X connect 10 0 20 0;
#X connect 11 0 1 0;
#X connect 12 0 21 0;
#X connect 13 0 0 0;
#X connect 14 0 12 0;
#X connect 15 0 6 1;
#X connect 15 0 9 1;
#X connect 15 0 14 0;
#X connect 16 0 15 0;
#X connect 17 0 15 0;
#X connect 19 0 9 0;
#X connect 20 0 19 0;
#X connect 21 0 1 1;
#X connect 22 0 3 0;
#X connect 23 0 24 0;
#X restore 252 648 pd test_tone;
#X obj 252 627 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 272 631 おまけ;
#X text 87 565 任意のサウンドファイルを開く;
#X msg 44 493 read -resize sample.wav array1;
#X text 32 408 ^--スレッショルドを下げすぎるとバグります。
;
#X obj 273 515 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X msg 273 535 \; pd dsp \$1;
#X text 505 231 抽出したブロックをランダムに再生;
#X text 39 234 ブロックを抽出;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 4 1 8 0;
#X connect 9 0 10 0;
#X connect 9 1 11 0;
#X connect 10 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 20 0;
#X connect 13 0 20 1;
#X connect 13 0 32 1;
#X connect 13 0 37 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 15 1 17 0;
#X connect 15 1 21 0;
#X connect 15 1 46 0;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 18 0 16 1;
#X connect 19 0 9 0;
#X connect 20 0 23 0;
#X connect 21 0 22 0;
#X connect 22 0 30 1;
#X connect 23 0 30 0;
#X connect 23 1 31 1;
#X connect 24 0 31 0;
#X connect 25 0 47 0;
#X connect 26 0 27 0;
#X connect 26 0 27 1;
#X connect 26 0 33 0;
#X connect 28 0 47 1;
#X connect 29 0 24 0;
#X connect 30 0 39 0;
#X connect 31 0 32 0;
#X connect 32 0 25 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 37 0 38 0;
#X connect 38 0 44 0;
#X connect 39 0 29 0;
#X connect 40 0 52 0;
#X connect 45 0 36 0;
#X connect 46 0 38 1;
#X connect 47 0 26 0;
#X connect 49 0 48 0;
#X connect 52 0 4 0;
#X connect 54 0 55 0;
